---
title: "Uso básico de R"
author: "Jorge Luis Gómez"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document: 
    fig_height: 8
    fig_width: 13
    number_section: yes
    theme: cosmo
    toc: yes
    toc_float:
      collapsed: no
      smooth_scroll: yes
  pdf_document:
    toc: yes
  word_document:
    toc: yes
    includes: \usepackage{amsmath}
---

# Introducción

La licenciatura en Microbiología, al menos a la fecha (agosto del 2022), es la única licenciatura de Microbiología **en todo el país**. Esto nos hace únicos en su propio derecho, pero varias de las materias que tenemos, así como el enfoque de las mismas, son lo que realmente nos hace diferentes a la gran diversidad de licenciaturas que existen en otras universidades a lo largo de México; siendo un caso particular, el uso del lenguaje de programación R. Es necesaria una aclaración, la cual

Originalemente, R se generó como un lenguaje enfocado para el cómputo estadístico y es muy similar al lenguaje S; no obstante, este lenguaje ha visto su desarrollo a una variedad de aplicaciones como la bioinformática y la ciencia de datos [^1]. R cuenta con una gran cantidad de técnicas estadísticas y para la generación de gráficas que le permite ser una de las herramientas más utilizadas en la bioinformática actual [^2].

El siguiente documento es solo una pequeña introducción al lenguaje R basado en la experiencia de los estudiantes que han generado este trabajo, así como de aquellos que seguirán refinando este trabajo. Si tienes dudas concretas que no estén en esta introducción, no tengas miedo de preguntarle a tus docentes. Si así lo prefieres, también puedes buscar por tu propia cuenta o basar tus esfurzos en recursos tales como los que mostramos en [esta sección](#recursos-adicionales). 

**Cabe recalcar que la mayoría de los recursos habidos están en inglés, por lo que algunos de los ejemplos o conceptos se manejarán en dicho idioma para facilitar su búsqueda**

# Tipos de datos

De primera instancia, vamos a conocer algunos de los tipos de datos que pueden existir en R. Cada uno de estos tipos tienen sus ventajas, deventajas, usos y momentos adecuados en los cuales será más conveniente usar uno por sobre otro, pero no te preocupes, esto mejorará conforme la experiencia. En la siguiente tabla te presentamos algunos de los tipos de datos más básicos que utilizarás en R.

| Tipo de dato   | Ejemplo    |
| -------------- | ---------- |
|     numeric    |     64.3   |
|     integer    |     12     |
|     logical    |     TRUE   |
|     character  |    "apple" |

## Numeric

Este tipo de dato representa todos los datos numéricos, tengan decimales o no. A continuación veremos un ejemplo.

```{r}
altura <- 1.75
peso <- 79
```
```{r}
print(class(altura))
print(class(peso))
```

En este punto es importante denotar algunas cosas. En la siguiense sección veremos los objetos `integer`, los cuales son relativamente similares, pero debe de quedar en claro que los objetos `numeric` representan cualquier número real, más no aquellos imaginarios.

De la misma manera, vemos el uso de dos funciones útiles, `print()` y `class()`. Estas funciones lo que hacen es imprimir/visualizar un objeto y decirte el tipo de dicho objeto, respectivamente. 

## Integer

Este tipo de dato es muy parecido al numérico que recién vimos; sin embargo, tiene una diferencia clave **no considera decimales**. En otras palabras, solo puede manejar números enteros, sean negativos o positivios. En ocasiones, cuando asignamos un valor a nuestro objeto o variable, pese a ser un número entero, lo considera `numeric`, por lo que se puede usar el sufijo `L` para denotarlo.

```{r}
inte <- 16L
```
```{r}
print(class(inte))
```

## Logical

Si llevaste en algún punto de tu formación, temas de lógica Booleana, este tipo de dato será sencillo para ti. En este caso, los valores de este tipo de datos solo pueden ser dos: **TRUE** o **FALSE** (verdadera y falso). Este tipo de dato se obtiene tras evaluar condiciones o al poner el input de manera directa. Podemos ver unos ejemplos a continuación.

```{r}
# Evaluar una condición

res <- 2>1
print(class(res))
print(res)
```
```{r}
# Asignar el input de manera directa

res <- FALSE
print(class(res))
print(res)
```

## Character

Este tipo de dato es igualmente muy común y conformará parte esencial de tus trabajos y tareas que desarrollarás en el lenguaje R. En particular, este tipo de dato se refiere a todos aquellos que sean caracteres simples o *strings* completos de caracteres.

```{r}
# ejemplo de caracter aislado

cha <- "A"

print(class(cha))
```
```{r}
# ejemplo de string de caracteres

stg <- "string"

print(class(stg))
```

# Data structures

Las estructuras de datos se refiere a un modo particular en el que se organizan datos para poder manipularlos de manera más eficiente. La idea es tener estructuras especializadas para las diferentes tareas que se pueden realizar no solo en R, sino, que en los lenguajes de programación en general. Básicamente, podemos clasificar las estructuras según sus dimensiones (1D, 2D nD). Si bien se pueden organizar según sus dimensiones, estas estructuras de datos se pueden conformar por todos los tipos de datos que se discutieron anteriormente y más. De forma común no se mezclan todos los tipos de dato en una sola estructura, pero no podemos decir realmente que son inexistentes [^3].

En particular, esta introducción discutirá algunas de las estructuras de datos más comunes. A continuación aprenderemos acerca de vectores, listas, dataframes, matrices, arrays, factores y tablas.

## Vectores

Un vector, dicho de manera simple, es una colección ordenada de una longitud *n* que se conforma por cualquier tipo de dato básico. Este tipo de estructura de dato debe de contener la misma clase de dato, por lo que se considera que es homogéneo. 

La forma más sencilla de generar un vector en R es a través del uso de la función `c()`. **Cada elemento dentro de nuestro vector, el cual es unidimensional, debe de estar sperado por una coma**, de lo contrario, R nos arrojará un error que no se puede leer el vector y no podremos guardar datos ni asignar objetos o variables. 

```{r}
first_vector <- c(1,2,3,4,5,5,2,3,4,2)

first_vector
```

Como se acaba de demostrar, no siempre es necesario usar la función `print()` para imprimir nuestro objeto; sin embargo, a lo largo de esta guía se usará para señalar de manera explícita que buscamos imprimir nuestro objeto. Esto solo fue una demostración.

Ahora, una parte importante de los vectores, es la longitud de los mismos, por lo que la función `length()` será muy útil desde los niveles más básicos, hasta lo más avanzado.

```{r}
print(length(first_vector))
```

## Listas

Las listas son otro tipo de estructura de dato que organiza de manera ordenada una colección de objetos. A diferencia de los vectores, las listas pueden contener varios tipos de datos, por lo que se consideran heterogéneas. Estas estructuras son unidimensionales, pero contiene una diferencia importante; los elementos dentro de la lista pueden ser n-dinemsionales. Puede contener matrices, caracteres, vectores, etc.

A continuación vamos a generar una lista de manera "directa" en una sola línea de código en esta ocasión.

```{r}
lst <- list("a"=2.5, "b"=TRUE, "c"=1:3, "nombre"="Jorge", "vec"=c("a","b"))

print(class(lst))

print(lst)
```

El modo en que se muestra es el ID de cada elemento y posteriormente muestra la información que está contenida en la etiqueta de la lista que le asignamos.

## Dataframes

Los dataframes sin objetos en los cuales podemos almacenar información de manera tabular, es decir, en forma de tabla. Este tipo de estructura es altamente utilizado en una gran cantidad de procesos, pipelines, funciones, etc., por lo que es importante saber su estructura y cómo se generan. Estos objetos son 2-D y pueden contener diferentes tipos de datos, lo que los hace heterogéneas; sin embargo, las columnas deben de contener el mismo tipo de datos a lo largo de sus renglones, aun cuando todas las columnas tengan diferentes tipos de dato. 

Ahora aprovecharemos este espacio para incluir un aspecto importante que puede servir para practicar, o cuando tengas más experiencia, incluso tomar datos directamente de paquetes para hacer pruebas. Accederemnos a bases de datos pre-cargadas dentro de R.

```{r}
data()
```
Este comando habre en una nueva pestaña con las bases de datos que están pre-cargadas. En este caso, usaremos una de las más comúnes, `iris`.

```{r}
data("iris")
```

Ahora, ya veremos el dataframe que contiene esta base de datos. 

```{r}
print(head(iris))
```

Como vemos, tenemos 5 columnas con distintos datos, cada una con diferente nombre y la última tiene un tipo de dato diferente. De igual manera podemos ver el uso de una función útil, la cual es `head()`, esta función nos permite ver los primeros renglones de un dataframe, matrix o caulquier objeto que tenga varios renglones. De este modo, igual existe la función `tail()` la cual nos muestra los últimos renglones de nuestros datos.

```{r}
print(tail(iris))
```

Una vez quee ya vimos cómo es que se generan estas estructuras, vamos a ver cómo podemos formar las propias.

```{r}

df_1 <- data.frame(
  "number" = 1:10,
	"name" = c("one","two","tres","quatre","cinq","roku","nana","ocho","neuf","dix"),
	"numeric" = c(1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1)
  )

print(df_1)
```
```{r}
print(class(df_1)) 
```

## Matrices

## Arrays

## Factores

## Tablas

# Recursos adicionales

1. https://www.r-project.org
2. http://www.cookbook-r.com
3. https://www.statmethods.net
4. https://r-coder.com/introduccion-r/

# Bibliografía 

[^1]: https://www.r-project.org
[^2]: Gentleman, Robert; Carey, Vincent J.; Huber, Wolfgang; Irizarry, Rafael A.; Dudoit, Sandrine  (2005). [Statistics for Biology and Health] Bioinformatics and Computational Biology Solutions Using R and Bioconductor, 10.1007/0-387-29362-0(), doi:10.1007/0-387-29362-0.
[^3]: https://www.geeksforgeeks.org/data-structures-in-r-programming/