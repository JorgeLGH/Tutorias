---
title: "Uso básico de R"
author: "Jorge Luis Gómez"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document: 
    fig_height: 8
    fig_width: 13
    number_section: yes
    theme: cosmo
    toc: yes
    toc_float:
      collapsed: no
      smooth_scroll: yes
  pdf_document:
    toc: yes
  word_document:
    toc: yes
    includes: \usepackage{amsmath}
---

# Introducción

La licenciatura en Microbiología, al menos a la fecha (agosto del 2022), es la única licenciatura de Microbiología **en todo el país**. Esto nos hace únicos en su propio derecho, pero varias de las materias que tenemos, así como el enfoque de las mismas, son lo que realmente nos hace diferentes a la gran diversidad de licenciaturas que existen en otras universidades a lo largo de México; siendo un caso particular, el uso del lenguaje de programación R. Es necesaria una aclaración, la cual

Originalemente, R se generó como un lenguaje enfocado para el cómputo estadístico y es muy similar al lenguaje S; no obstante, este lenguaje ha visto su desarrollo a una variedad de aplicaciones como la bioinformática y la ciencia de datos [^1]. R cuenta con una gran cantidad de técnicas estadísticas y para la generación de gráficas que le permite ser una de las herramientas más utilizadas en la bioinformática actual [^2].

El siguiente documento es solo una pequeña introducción al lenguaje R basado en la experiencia de los estudiantes que han generado este trabajo, así como de aquellos que seguirán refinando este trabajo. Si tienes dudas concretas que no estén en esta introducción, no tengas miedo de preguntarle a tus docentes. Si así lo prefieres, también puedes buscar por tu propia cuenta o basar tus esfurzos en recursos tales como los que mostramos en [esta sección](#recursos-adicionales). 

**Cabe recalcar que la mayoría de los recursos habidos están en inglés, por lo que algunos de los ejemplos o conceptos se manejarán en dicho idioma para facilitar su búsqueda**

# Tipos de datos

De primera instancia, vamos a conocer algunos de los tipos de datos que pueden existir en R. Cada uno de estos tipos tienen sus ventajas, deventajas, usos y momentos adecuados en los cuales será más conveniente usar uno por sobre otro, pero no te preocupes, esto mejorará conforme la experiencia. En la siguiente tabla te presentamos algunos de los tipos de datos más básicos que utilizarás en R.

| Tipo de dato   | Ejemplo    |
| -------------- | ---------- |
|     numeric    |     64.3   |
|     integer    |     12     |
|     logical    |     TRUE   |
|     character  |    "apple" |

## Numeric

Este tipo de dato representa todos los datos numéricos, tengan decimales o no. A continuación veremos un ejemplo.

```{r}
altura <- 1.75
peso <- 79
```
```{r}
print(class(altura))
print(class(peso))
```

En este punto es importante denotar algunas cosas. En la siguiense sección veremos los objetos `integer`, los cuales son relativamente similares, pero debe de quedar en claro que los objetos `numeric` representan cualquier número real, más no aquellos imaginarios.

De la misma manera, vemos el uso de dos funciones útiles, `print()` y `class()`. Estas funciones lo que hacen es imprimir/visualizar un objeto y decirte el tipo de dicho objeto, respectivamente. 

## Integer

Este tipo de dato es muy parecido al numérico que recién vimos; sin embargo, tiene una diferencia clave **no considera decimales**. En otras palabras, solo puede manejar números enteros, sean negativos o positivios. En ocasiones, cuando asignamos un valor a nuestro objeto o variable, pese a ser un número entero, lo considera `numeric`, por lo que se puede usar el sufijo `L` para denotarlo.

```{r}
inte <- 16L
```
```{r}
print(class(inte))
```

## Logical

Si llevaste en algún punto de tu formación, temas de lógica Booleana, este tipo de dato será sencillo para ti. En este caso, los valores de este tipo de datos solo pueden ser dos: **TRUE** o **FALSE** (verdadera y falso). Este tipo de dato se obtiene tras evaluar condiciones o al poner el input de manera directa. Podemos ver unos ejemplos a continuación.

```{r}
# Evaluar una condición

res <- 2>1
print(class(res))
print(res)
```
```{r}
# Asignar el input de manera directa

res <- FALSE
print(class(res))
print(res)
```

## Character

Este tipo de dato es igualmente muy común y conformará parte esencial de tus trabajos y tareas que desarrollarás en el lenguaje R. En particular, este tipo de dato se refiere a todos aquellos que sean caracteres simples o *strings* completos de caracteres.

```{r}
# ejemplo de caracter aislado

cha <- "A"

print(class(cha))
```
```{r}
# ejemplo de string de caracteres

stg <- "string"

print(class(stg))
```

# Data structures

Las estructuras de datos se refiere a un modo particular en el que se organizan datos para poder manipularlos de manera más eficiente. La idea es tener estructuras especializadas para las diferentes tareas que se pueden realizar no solo en R, sino, que en los lenguajes de programación en general. Básicamente, podemos clasificar las estructuras según sus dimensiones (1D, 2D nD). Si bien se pueden organizar según sus dimensiones, estas estructuras de datos se pueden conformar por todos los tipos de datos que se discutieron anteriormente y más. De forma común no se mezclan todos los tipos de dato en una sola estructura, pero no podemos decir realmente que son inexistentes [^3].

En particular, esta introducción discutirá algunas de las estructuras de datos más comunes. A continuación aprenderemos acerca de vectores, listas, dataframes y matrices.

## Vectores

Un vector, dicho de manera simple, es una colección ordenada de una longitud *n* que se conforma por cualquier tipo de dato básico. Este tipo de estructura de dato debe de contener la misma clase de dato, por lo que se considera que es homogéneo. 

La forma más sencilla de generar un vector en R es a través del uso de la función `c()`. **Cada elemento dentro de nuestro vector, el cual es unidimensional, debe de estar sperado por una coma**, de lo contrario, R nos arrojará un error que no se puede leer el vector y no podremos guardar datos ni asignar objetos o variables. 

```{r}
first_vector <- c(1,2,3,4,5,5,2,3,4,2)

first_vector
```

Como se acaba de demostrar, no siempre es necesario usar la función `print()` para imprimir nuestro objeto; sin embargo, a lo largo de esta guía se usará para señalar de manera explícita que buscamos imprimir nuestro objeto. Esto solo fue una demostración.

Ahora, una parte importante de los vectores, es la longitud de los mismos, por lo que la función `length()` será muy útil desde los niveles más básicos, hasta lo más avanzado.

```{r}
print(length(first_vector))
```

## Listas

Las listas son otro tipo de estructura de dato que organiza de manera ordenada una colección de objetos. A diferencia de los vectores, las listas pueden contener varios tipos de datos, por lo que se consideran heterogéneas. Estas estructuras son unidimensionales, pero contiene una diferencia importante; los elementos dentro de la lista pueden ser n-dinemsionales. Puede contener matrices, caracteres, vectores, etc.

A continuación vamos a generar una lista de manera "directa" en una sola línea de código en esta ocasión.

```{r}
lst <- list("a"=2.5, "b"=TRUE, "c"=1:3, "nombre"="Jorge", "vec"=c("a","b"))

print(class(lst))

print(lst)
```

El modo en que se muestra es el ID de cada elemento y posteriormente muestra la información que está contenida en la etiqueta de la lista que le asignamos.

## Dataframes

Los dataframes sin objetos en los cuales podemos almacenar información de manera tabular, es decir, en forma de tabla. Este tipo de estructura es altamente utilizado en una gran cantidad de procesos, pipelines, funciones, etc., por lo que es importante saber su estructura y cómo se generan. Estos objetos son 2-D y pueden contener diferentes tipos de datos, lo que los hace heterogéneas; sin embargo, las columnas deben de contener el mismo tipo de datos a lo largo de sus renglones, aun cuando todas las columnas tengan diferentes tipos de dato. 

Ahora aprovecharemos este espacio para incluir un aspecto importante que puede servir para practicar, o cuando tengas más experiencia, incluso tomar datos directamente de paquetes para hacer pruebas. Accederemnos a bases de datos pre-cargadas dentro de R.

```{r}
data()
```
Este comando habre en una nueva pestaña con las bases de datos que están pre-cargadas. En este caso, usaremos una de las más comúnes, `iris`.

```{r}
data("iris")
```

Ahora, ya veremos el dataframe que contiene esta base de datos. 

```{r}
print(head(iris))
```

Como vemos, tenemos 5 columnas con distintos datos, cada una con diferente nombre y la última tiene un tipo de dato diferente. De igual manera podemos ver el uso de una función útil, la cual es `head()`, esta función nos permite ver los primeros renglones de un dataframe, matrix o caulquier objeto que tenga varios renglones. De este modo, igual existe la función `tail()` la cual nos muestra los últimos renglones de nuestros datos.

```{r}
print(tail(iris))
```

Una vez quee ya vimos cómo es que se generan estas estructuras, vamos a ver cómo podemos formar las propias.

```{r}

df_1 <- data.frame(
  "number" = 1:10,
	"name" = c("one","two","tres","quatre","cinq","roku","nana","ocho","neuf","dix"),
	"numeric" = c(1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1)
  )

print(df_1)
```
```{r}
print(class(df_1)) 
```

## Matrices

Este tipo de estructura tiene un solo tipo de dato, por lo que se considera homogénea. Así como en matemáticas, las matrices son muy usadas en este lenguaje, por la propia naturaleza con la que se creó y se mencionó en la introducción, por lo que los datos en las matrices son numéricos y se trabaja con ellos en este modo[^4]. El modo de leer una matriz, así como un dataframe, se hace leyendo primero el renglón y luego la clumna (x,y).

Existen varios modos de generar matrices desde cero, así que en este caso veremos cómo e que se hace en una sola línea de código. Para este fin, usaremos la función `matrix()` con la cual podemos crear nuestras matrices.

```{r}
mat_1 <- matrix(1:10)

print(mat_1)
```

Al observar este ejemplo, creamos de manera directa una matriz con una sola columna, pero con 10 renglones. Ahora veremos cómo se hacen varias columnas con varios renglones, asignando el número de dichos elementos que deseamos conformen nuestra matriz.

```{r}
mat_2 <- matrix(1:12, nrow=4,ncol=3)

print(mat_2)
```

En este caso, asignamos 12 elementos numéricos en cuatro renglones y tres columnas. Es necesario recordar que los elementos deben de ser repartibles en el número de columnas y renglones que escogimos, de otro modo se omitirán o repitirán datos. 

```{r}
mat_3 <- matrix(1:2, nrow=4,ncol=3)

print(mat_3)
```
```{r}
mat_4 <- matrix(1:20, nrow=4,ncol=3)

print(mat_4)
```
# Operadores

R contiene una variedad de operadores para llevar a cabo operaciones matemáticas[^5], desde las más sencillas, hasta procesos complejos que requieren mucho procesamiento. En esta sección abarcaremos dos tipos de operador, los aritméticos y los relacionales. Para poder entender mejor el uso de estos operadores es necesario tener claras las bases indispensables de matemáticas y es recomendable, en el caso de los operadores relacionales, conocer acerca de lógica, aunque no es necesario. 

Si tienes problemas en esta sección, más allá de poder comprender el código, te recomiendo fuertemente que busques algún curso de matemáticas para reforzar tu conocimiento, pueto que esto es parte de lo mínimo indispensable para poder programar de manera decente. No te preocupes si lo necesitas, es mejor saber cuándo volver a las bases antes de seguir con algo que probablemente no se entenderá del todo.

## Operadores aritméticos

Tal como dice su nombre, estos operadores son utilizados para llevar a cabo operaciones matemáticas. Todas las operaciones matemáticas con soluciones numéricas que puedas imaginar, son solucionables en R, así que no tengas miedo en probar. A continuación te muestro una tabla con los operadores aritméticos que cubriremos en este módulo.

| Operador |     Descripción      |
| -------- | -------------------- |
|     +    |    Suma              |
|     -    |    Resta             |
|     *    |    Multiplicación    |
|     /    |    División          |
|     ^    |    Exponente         |
|     %%   |    Módulo            |

La suma es representada tal como se nos enseña cuando somos niños, usamos el signo **+**.

```{r}
2+2
123123123+456456+4565
123+45354+234+234
```

Tenemos la resta, la cual se representa del mismo modo que en las matemáticas básicas que todos conocemos.

```{r}
123-4-234
123123-12-3-214-124
```

En el caso de la multiplicación, usaremos el asterisco \* para representar esta operación.

```{r}
123*234
1*2*3*4*5
```

En el caso de la división, usamos la diagonal **/** para representar esta operación, así que usa la misma lógica que conocemos.

```{r}
123/324
567/789
6789679/234
```

Para representar exponentes, usamos el símbolo de caret **^** para poder asignar esta operación. Cabe recarlcar que considerará todo el número después de este símbolo como el exponente hasta que haya algún otro operador o un espacio.

```{r}
2^4
12^7
1^1+1
```

Usamos el operador modulo **%%** para obtener solo el residuo de una división del número de la izquierda entre el de la derecha. Suena un tanto extraño, quizás no lo esté explicando bien, pero quedará claro con los siguientes ejemplos.

```{r}
10%%3
10%%2
```

Como vemos, se puede ver que tras dividir 10/3, nuestro residuo es 1; lo cual es nos arroja la operación.

Dicho de manera sencilla, R puede fungir como nuestra calculadora con un poder para procesar impresionante. es importante saber que el lenguaje y lo que nos arroja no fallará, pero nuestra sintaxis y datos puede que sí. En este sentido debemos de ser muy conscientes que nuestros inputs deben de ser claros, pues de otro modo fallará por más preciso que sea R.

## Operadores relacionales

Los operadores relacionales son usados básicamente para hacer comparaciones entre distintos valores. El resultado del uso de estos operadores nos devuelve un valor Booleano, de modo que nunca nos devolverá un valor numérico per se aún cuando estemos comparando númers; aunque igualmente podemos comparar datos que no sean numéricos.

| Operador |     Descripción      |
| -------- | -------------------- |
|     <    |    Menor que         |
|     >    |    Mayor que         |
|     <=   |    Menor o igual que |
|     >=   |    Mayor o igual que |
|     ==   |    Igual que         |
|     !=   |    No igual que      |

Primero, veremos el menor que, el cual es representado, al igual que cuando somos niños, por su propio símbolo. **<** En este ejemplo veremos que puede ser usado no solo en números. 

```{r}
12<123
1<0
"a"<"v"
```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```
# Recursos adicionales

1. https://www.r-project.org
2. http://www.cookbook-r.com
3. https://www.statmethods.net
4. https://r-coder.com/introduccion-r/

# Bibliografía 

[^1]: https://www.r-project.org
[^2]: Gentleman, Robert; Carey, Vincent J.; Huber, Wolfgang; Irizarry, Rafael A.; Dudoit, Sandrine  (2005). [Statistics for Biology and Health] Bioinformatics and Computational Biology Solutions Using R and Bioconductor, 10.1007/0-387-29362-0(), doi:10.1007/0-387-29362-0.
[^3]: https://www.geeksforgeeks.org/data-structures-in-r-programming/
[^4]: https://bookdown.org/jboscomendoza/r-principiantes4/matrices-y-arrays.html
[^5]: https://www.datamentor.io/r-programming/operator/